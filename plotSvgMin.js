{const a=Math.round,b=Math.floor,c=Math.pow,d=Math.log10,e=Math.ceil;function gE(e){return document.getElementById(e)}function sAt(e,t,l){e.setAttribute(t,l)}function gAt(e,t){return e.getAttribute(t)}function gM(e){let t=e.length,l=-1/0;for(;t--;)l=e[t]>l&&isFinite(e[t])?e[t]:l;return l}function gMi(e){let t=e.length,l=1/0;for(;t--;)l=e[t]<l&&isFinite(e[t])?e[t]:l;return l}function n2e(l){var n=["y","z","a","f","p","n","u","m","","k","M","G","T","P","E","Z","Y"],i=Array(l.length);for(let t=0;t<l.length;++t){var o=l[t].toExponential(5).split(/e/);let e=b(+o[1]/3)+8;e>n.length-1?e=n.length-1:e<0&&(e=0),i[t]=a(o[0]*c(10,+o[1]-3*(e-8))*1e3)/1e3+n[e]}return i}function lis(e,t,l){for(numel=b((l-e)/t)+1,out=Array(numel),idx=0;idx<numel;++idx)out[idx]=e+t*idx;return out}function los(e,t,l){return lis(e,t,l).map(d)}function dec(e,t,l){return lis(e,t,l).map(e=>10**e)}function aSE(e,t,l){var n,a="string"==typeof t?document.createElementNS("http://www.w3.org/2000/svg",t):t;for(n in l)sAt(a,n,l[n]);return null!=e&&e.appendChild(a),a}function aST(e,t,l,n,a,i="middle",o="Sans,Arial",r="black"){e=aSE(e,"text",{x:l,y:n,fill:r,"font-size":a,"text-anchor":i,"font-family":o,"stroke-width":1});return e.append(document.createTextNode(t)),e}function aSL(e,t,l,n,a,i="black",o=""){return aSE(e,"line",{x1:t,y1:l,x2:n,y2:a,stroke:i,"stroke-width":1,"stroke-dasharray":o,"vector-effect":"non-scaling-stroke"})}function aSR(e,t,l,n,a,i="none",o="none",r=2,s=0){return aSE(e,"rect",{x:t,y:l,width:n,height:a,rx:s,stroke:o,"stroke-width":r,fill:i,"vector-effect":"non-scaling-stroke"})}function lC(e,t,l,n,a){var i=gE("svg_leg_"+n),e=e.offsetY-gAt(i,"y"),o=b((e-l/2)/(t+l)),i=gE("pl_"+n+"_"+o);if(null!=i){var r=i.style.display;if(0==a){e=gE("gpl_"+n+"_"+o);"none"===r?(gE("pl_"+n+"_"+o).style.display="block",gE("lgi_"+n+"_"+o).style.opacity=1,null!=e&&(e.style.display="block")):(gE("pl_"+n+"_"+o).style.display="none",gE("lgi_"+n+"_"+o).style.opacity=.3,null!=e&&(e.style.display="none"))}else for(let e=0;e<a;++e){var s=gE("gpl_"+n+"_"+e);"none"===r?(gE("pl_"+n+"_"+e).style.display="block",gE("lgi_"+n+"_"+e).style.opacity=1,null!=s&&(s.style.display="block")):e!=o&&(gE("pl_"+n+"_"+e).style.display="none",gE("lgi_"+n+"_"+e).style.opacity=.3,null!=s)&&(s.style.display="none")}}}function rS(e,t,l,n,a){var i=gE("svg_leg_"+e),o=gE("svg_draw_"+e),r=gE("svg_top_"+e),s=gE("svg_bottom_"+e),g=gE("svg_left_"+e),e=gE("svg_"+e),d=e.width.baseVal.value-t,c=e.height.baseVal.value-l,h=o.width.baseVal.value,f=o.height.baseVal.value,u=document.getElementsByClassName("tooltip");if(h!=d){sAt(o,"width",d),sAt(r,"width",d),sAt(s,"width",d),i.x.baseVal.value+=d-h;for(let e=0;e<u.length;++e){var v=o.x.baseVal.value,y=u[e].transform.baseVal[0].matrix.e;u[e].transform.baseVal[0].matrix.e=v+(y-v)*d/h}}if(f!=c){sAt(o,"height",c),sAt(g,"height",c),null!=i&&(sAt(i,"height",t=n<(t=c-a)?n:t),i.viewBox.baseVal.height=t);for(let e=0;e<u.length;++e){var x=o.y.baseVal.value,E=u[e].transform.baseVal[0].matrix.f;u[e].transform.baseVal[0].matrix.f=x+(E-x)*c/f}}}function sL(e,t,l){var n=gE("svg_leg_"+t),t=gE("rect_leg_"+t),e=(n.viewBox.baseVal.y+=e.deltaY,l-n.height.baseVal.value);return n.viewBox.baseVal.y<0&&(n.viewBox.baseVal.y=0),n.viewBox.baseVal.y>e&&(n.viewBox.baseVal.y=e),t.y.baseVal.value=n.viewBox.baseVal.y,!1}function pC(e,t,l,n,a,i,o,r){svgDraw=gE("svg_draw_"+t),svg=gE("svg_"+t);var s,g=svgDraw.x.baseVal.value,d=svgDraw.y.baseVal.value,c=e.offsetX-g,e=e.offsetY-d,h=100/svgDraw.width.baseVal.value,f=100/svgDraw.height.baseVal.value;result=gNL(t,c*=h,e*=f,6*h,6*f),null!=(closestEl=result.ele)&&(e=(c=result.x)/h+g,g=(h=result.y)/f+d,f=gE("lti_"+t+(d=(f=closestEl.id).slice(("pl_"+t).length,f.length))),s=gE("pl_"+t+d),lineColor=gAt(s,"stroke"),sourceCoord=cC([c,h],[l,n],[a,i],o,r),null==(s=gE("gpl_"+t+d))&&(s=aSE(svg,"g",{id:"gpl_"+t+d})),(c=aSE(s,"g",{class:"tooltip",transform:"translate("+e+" "+g+")"})).onclick=e=>{"g"==e.srcElement.parentNode.tagName&&e.srcElement.parentNode.remove()},h=aSR(c,5,-9,0,32,lineColor,"rgb(223,223,223)",1,rx=4),(l=null)!=f&&(aSE(null,text=aST(c,f.textContent,7,-11,12,"start","Sans,Arial","white"),{"font-weight":"bold"}),l=aSL(c,5,-8,5,-8,stroke="white"),aSE(null,h,{y:-23,height:46})),aST(c,"x: "+n2e([sourceCoord[0]]),7,4,12,"start","Sans,Arial","white"),aST(c,"y: "+n2e([sourceCoord[1]]),7,18,12,"start","Sans,Arial","white"),aSE(null,h,{width:(n=c.getBBox()).width+4}),null!=l&&sAt(l,"x2",n.width+4+5),aSR(c,-2,-2,4,4,"black"))}function pM(e,t){2==e.button&&(aSE(null,aSR(svg=gE("svg_"+t),e.offsetX,e.offsetY,0,0,"black"),{id:"zoom_rect"+t,"fill-opacity":"0.3"}),svg.onmousemove=e=>pDZ(e,t),svg.onmouseup=e=>pZ(e,t))}function pDZ(e,t){sAt(rectZoom=gE("zoom_rect"+t),"width",e.offsetX-gAt(rectZoom,"x")),sAt(rectZoom,"height",e.offsetY-gAt(rectZoom,"y"))}function pZ(e,t){(rectZoom=gE("zoom_rect"+t)).remove(),(svg=gE("svg_"+t)).onmousemove=null,svg.onmouseup=null}function cC(e,t,l,n,a){return x=e[0]/100*(t[1]-t[0])+t[0],y=(1-e[1]/100)*(l[1]-l[0])+l[0],x=n?c(10,x):x,y=a?c(10,y):y,[x,y]}function gNL(e,t,l,n,a){var i=null,o=1/0,r=gE("gp_"+e),s=r.children.length,g=0,d=0;for(let e=0;e<s;++e){var c=r.children[e].points;for(idxPt=1;idxPt<c.length;++idxPt){var h,f,u,v,y,x,E=c[idxPt-1],p=c[idxPt];t<E.x-n&&t<p.x-n||t>E.x+n&&t>p.x+n||l<E.y-a&&l<p.y-a||l>E.y+a&&l>p.y+a||(u=((h=p.x-E.x)*(t-E.x)+(f=p.y-E.y)*(l-E.y))/(h*h+f*f),n*a<(u=((h=E.x+h*u)-t)*(h-t)+((f=E.y+f*u)-l)*(f-l)))||o<u||(o=u,i=r.children[e],u=E.x<t?t-E.x:E.x-t,v=E.y<l?l-E.y:E.y-l,y=p.x<t?t-p.x:p.x-t,x=p.y<l?l-p.y:p.y-l,d=u<y&&u<n&&v<a?(g=E.x,E.y):y<n&&x<a?(g=p.x,p.y):(g=h,f))}}return{ele:i,x:g,y:d}}function plotSvg(l,n,i,o,{title:t="",subtitle:r="",xlabel:s="",ylabel:g="",xlim:h=[],ylim:f=[],legend:u=[],xScale:I="lin",yScale:F="lin",grid:O=!0,gridMinor:G=[],legendLocation:v="northeastoutside"}={}){var y=10,x=10,E=[1,2,5,10],p=["rgb(0,114,190)","rgb(218,83,25)","rgb(238,178,32)","rgb(126,47,142)","rgb(119,173,48)","rgb(77,191,239)","rgb(163,20,47)"],_=(logXEnbl=!1,"log"==I&&(n=n.map(d),1<h.length&&(h=h.map(d),isNaN(h[0])||isNaN(h[1])?h=[]:(h[0]=h[0]==-1/0?0:h[0],h[1]=h[1]==-1/0?0:h[1])),logXEnbl=!0),logYEnbl=!1,"log"==F&&(i=i.map(d),1<f.length&&(f=f.map(d),isNaN(f[0])||isNaN(f[1])?f=[]:(f[0]=f[0]==-1/0?0:f[0],f[1]=f[1]==-1/0?0:f[1])),logYEnbl=!0),gE(l)),w=document.createElement("div"),_=(_.appendChild(w),sAt(w,"style","width:100%;height:100%;min-width:400px;min-height:200px;overflow:none"),aSE(w,"svg",{id:"svg_"+l,width:"100%",height:"100%"})),w=_.width.baseVal.value,m=_.height.baseVal.value,S=(_.innerHTML+="<style>\n<![CDATA[\n  polyline.l {\n    stroke-width:2;\n    vector-effect:non-scaling-stroke;\n    fill:none;\n  }\n  text.cll {\n    font-size:10px;\n    fill:black;\n    dominant-baseline:central;\n    font-family:Lucida Sans Typewriter;\n  }\n]]>\n</style>\n",0),k=48,H=t.split("\n"),j=r.split("\n"),A=(0<t.length&&(S+=28*H.length),0<r.length&&(S+=16*j.length),m-(S+=10)-24),T=w-k,L=(0<s.length&&(A=A-12-4),0<g.length&&(k=k+12+4,T=T-12-4),aSE(null,"g",{"pointer-events":"visible"})),q=(L.onclick=e=>lC(e,10,4,l,0),L.ondblclick=e=>lC(e,10,4,l,o),0);if(0<u.length&&0<o&&0<n.length){var J="";switch(v){case"northeast":yLegend=S+8,q=16,J="white";break;case"northeastoutside":yLegend=S,J="none";break;default:throw new Error("LegendLocation not supported")}var V=A-q,C=(_.appendChild(L),aSE(_,"defs")),N=(aSE(C,"line",{id:"ll_"+l,x1:0,y1:0,x2:20,y2:0,"stroke-width":2,"vector-effect":"non-scaling-stroke"}),aSE(L,"svg",{id:"svg_leg_"+l})),K=o,Q=u,U=(u.length>o&&(Q=u.slice(0,K)),14*K+4),C=V<U?V:U,V=(aSE(null,N,{x:"100%",height:C}),aSR(N,0,0,0,"100%",J,"black"));aSE(null,V,{id:"rect_leg_"+l});for(let e=0;e<K;++e){colorIdx=e%p.length,yOffset=14*e+4;var W=new aSE(N,"g",{id:"lgi_"+l+"_"+e}),$=(aSE(W,"use",{id:"lli_"+l+"_"+e,x:4,y:yOffset+5,href:"#ll_"+l,stroke:p[colorIdx]}),aSE(W,"text",{id:"lti_"+l+"_"+e,class:"cll",x:28,y:yOffset+5})),W="";e<Q.length&&(W=Q[e]),$.append(document.createTextNode(W))}var Y=400<(Y=L.getBBox().width+8)?400:Y,ee=(sAt(V,"width","100%"),sAt(N,"width",Y),0);switch(v){case"northeast":ee=-Y-8-48,T-=48;break;case"northeastoutside":ee=-Y-4,T-=Y+8;break;default:throw new Error("LegendLocation not supported")}aSE(null,N,{x:_.width.baseVal.value+ee,y:yLegend,viewBox:"0 0 "+Y+" "+C})}else T-=48;var M=[k,S,T,A],te=[w-M[2],m-M[3]],le=aSE(_,"svg",{id:"svg_top_"+l,x:M[0],overflow:"visible",width:M[2]}),B=0;if(0<t.length)for(let e=0;e<H.length;++e)B=B+24+4,aST(le,H[e],"50%",B,24);if(0<r.length)for(let e=0;e<j.length;++e)B=B+12+4,aST(le,j[e],"50%",B,12);var V=aSE(_,"g",{transform:"translate("+M[0]+" "+(-m+M[1]+M[3])+")"}),ne=aSE(V,"svg",{id:"svg_bottom_"+l,overflow:"visible",y:"100%",width:M[2]}),ae=(0<s.length&&aST(ne,s,"50%",36,12),aSE(_,"svg",{id:"svg_left_"+l,y:M[1],overflow:"visible",height:M[3]})),X=(0<g.length&&aSE(ae,"text",{"writing-mode":"sideways-lr",fill:"black","font-size":12,"text-anchor":"middle","font-family":"Sans,Arial","stroke-width":1,y:"50%",x:M[0]-48-4}).append(document.createTextNode(g)),0),D=0,Z=0,z=0,R=(h.length<2?(X=gMi(n),D=gM(n),X==D&&(X-=.5,D+=.5)):(X=h[0],D=h[1]),f.length<2?(Z=gMi(i),z=gM(i),Z==z&&(Z-=.5,z+=.5)):(Z=f[0],z=f[1]),aSE(_,"svg",{id:"svg_draw_"+l,preserveAspectRatio:"none",viewBox:"0 0 100 100",width:M[2],height:M[3],x:M[0],y:M[1]})),v=!1,C=!1,C=G.length<1?(v="log"==I,"log"==F):(v=G[0],G[1]),k=(D-X)/10,A=b(d(k)),ie=e(k/c(10,A)),w=E.findIndex(function(e){return ie<=e}),k=E[w]*c(10,A),t=(logXEnbl?1<=D-X?1<(k=k<1?1:k)&&(y=y<k?y:k):y=0:y=5,(z-Z)/10),A=b(d(t)),ie=e(t/c(10,A)),w=E.findIndex(function(e){return ie<=e}),t=E[w]*c(10,A),r=(logYEnbl?1<=z-Z?1<(t=t<1?1:t)&&(x=x<t?x:t):x=0:x=5,h.length<1&&4<=(D-X)/k&&(X=b(X/k)*k,D=e(D/k)*k),f.length<1&&4<=(z-Z)/t&&(Z=b(Z/t)*t,z=e(z/t)*t),e(X/k)*k),m=b(D/k)*k,V=e(Z/t)*t,s=b(z/t)*t,oe=100*(r-X)/(D-X),re=100*(s-z)/(z-Z),se=a((m-r)/k),ge=a((s-V)/t),g=(xTickLabel=logXEnbl?n2e(dec(r,k,m)):n2e(lis(r,k,m)),yTickLabel=logYEnbl?n2e(dec(V,t,s)):n2e(lis(V,t,s)),dXTick=100*k/(D-X),dYTick=100*t/(z-Z),aSE(R,"defs")),de=aSE(g,"g",{id:"mgy_"+l});if(C&&0<x){var P=Array();logYEnbl&&1==t?(P=los(1,9/(x-1),10)).forEach((e,t)=>{P[t]=(1-P[t])*dYTick}):P=lis(0,1/x*dYTick,dYTick);for(let e=1;e<P.length-1;++e)aSL(de,0,P[e],"100%",P[e],"rgb(223,223,223)","2 4")}O&&aSL(de,0,0,"100%",0,"rgb(223,223,223)"),aSL(de,0,0,"1%",0),aSL(de,"99%",0,"100%",0);for(let e=0;e<=ge;++e){var ce=-re+dYTick*e;sAt($=aST(ae,yTickLabel[ge-e],M[0]-6,ce+"%",12,"end"),"dominant-baseline","central"),aSE(R,"use",{href:"#mgy_"+l,y:ce})}var I=aSE(R,"defs"),he=aSE(I,"g",{id:"mgx_"+l});if(v&&0<y){P=Array();logXEnbl&&1==k?(P=los(1,9/(y-1),10)).forEach((e,t)=>{P[t]*=dXTick}):P=lis(0,1/y*dXTick,dXTick);for(let e=1;e<P.length-1;++e)aSL(he,P[e],0,P[e],"100%","rgb(223,223,223)","2 4")}O&&aSL(he,0,0,0,"100%","rgb(223,223,223)"),aSL(he,0,0,0,"1%"),aSL(he,0,"99%",0,"100%");for(let e=0;e<=se;++e){var fe=dXTick*e+oe;aST(ne,xTickLabel[e],fe+"%",12*1.4,12),aSE(R,"use",{href:"#mgx_"+l,x:fe})}var ue=i.length/o,ve=n.length==i.length;if(!ve&&ue!=n.length)throw new Error("Dimension must agree");var ye=aSE(R,"g",{id:"gp_"+l});for(let t=0;t<o;++t){const colorIdx=t%p.length;var xe=aSE(ye,"polyline",{class:"l",id:"pl_"+l+"_"+t,stroke:p[colorIdx]});for(let e=0;e<ue;++e){var Ee,pe=ve?n[t*ue+e]:n[e],be=i[t*ue+e];isFinite(pe)&&isFinite(be)&&((Ee=R.createSVGPoint()).x=100*(pe-X)/(D-X),Ee.y=100-100*(be-Z)/(z-Z),xe.points.appendItem(Ee))}}sAt(aSR(R,0,0,"100%","100%","none","black"),"pointer-events","visible"),_.appendChild(L),R.onclick=e=>pC(e,l,X,D,Z,z,logXEnbl,logYEnbl),_.oncontextmenu=e=>{e.preventDefault()},R.onmousedown=e=>pM(e,l),_.onmousedown=e=>{e.preventDefault()},0<u.length&&(L.onwheel=e=>sL(e,l,U)),new ResizeObserver(()=>rS(l,te[0],te[1],U,q)).observe(_)}}