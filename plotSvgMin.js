{const a=Math.round,b=Math.floor,c=Math.log10,d=Math.ceil,e=1/0,f=document,g=2,h=1,i=12,j=10,k="Lucida Sans Typewriter",l=20,m=4,n=4,o=400,p=4,q=24,r=12,s=[10,10],t=[10,10],u=[1,2,5,10],v=4*i,w=2*i,x=["rgb(0,114,190)","rgb(218,83,25)","rgb(238,178,32)","rgb(126,47,142)","rgb(119,173,48)","rgb(77,191,239)","rgb(163,20,47)"],y="http://www.w3.org/2000/svg";function plotSvg(_,B,A,V,{title:ae="",subtitle:N="",xlabel:E="",ylabel:S="",xlim:z=[],ylim:T=[],style:se="-",marker:ce="",legend:M=[],xScale:he="lin",yScale:ge="lin",grid:ue=!0,gridMinor:fe=[],legendLocation:Y="northeastoutside",linTip:de=!0}={}){let C=[!1,!1];"log"==he&&(B=B.map(c),1<z.length&&(z=z.map(c),isNaN(z[0])||isNaN(z[1])?z=[]:(z[0]=z[0]==-e?0:z[0],z[1]=z[1]==-e?0:z[1])),C[0]=!0),"log"==ge&&(A=A.map(c),1<T.length&&(T=T.map(c),isNaN(T[0])||isNaN(T[1])?T=[]:(T[0]=T[0]==-e?0:T[0],T[1]=T[1]==-e?0:T[1])),C[1]=!0);var L=Q(_),R=f.createElement("div");ne(L,R),$(R,"style","width:100%;height:100%;min-width:"+o+"px;min-height:200px;overflow:none");const D=ne(R,"svg",{id:"s_"+_,width:"100%",height:"100%"});L=te(D);D.innerHTML+="<style>\n<![CDATA[\ntext.cll {\nfont-size:"+j+"px;\nfill:black;\ndominant-baseline:central;\nfont-family:"+k+";\n}\n.b:hover polyline{\nopacity:0.5;\n}\n]]>\n</style>\n";let U=0,ve=v;var ye=ae.split("\n"),pe=N.split("\n");0<ae.length&&(U+=(q+p)*ye.length),0<N.length&&(U+=(r+p)*pe.length),U=U<19?25:U+6;let xe=L[3]-U-w,X=L[2]-ve;0<E.length&&(xe=xe-i-p),0<S.length&&(ve=ve+i+2*p,X=X-i-2*p);R=ne(null,"g",{"pointer-events":"visible"});R.onclick=e=>Ge(e,0),R.ondblclick=e=>Ge(e,V);let me=0,F=0,we="none",H=null,be=null;if(0<M.length&&0<V&&0<B.length){let e=U;"northeast"==Y&&(e=U+2*n,me=4*n,we="white");var I=xe-me,O=ne(D,"defs"),ke=(H=ne(R,"svg",{id:"sl_"+_}),ne(D,R),ne(O,"line",{id:"ll_"+_,x1:0,y1:0,x2:l,y2:0,"stroke-width":2,"vector-effect":"non-scaling-stroke"}),V);let i=M;M.length>V&&(i=M.slice(0,ke));O=(F=ke*(j+n)+n)>I?I:F;ne(null,H,{x:"100%",height:O}),ne(null,be=oe(H,0,0,0,"100%",we,"black"),{id:"rect_leg_"+_});for(let t=0;t<ke;++t){var _e=t%x.length,Be=t*(j+n)+n,Ae=new ne(H,"g",{id:"lgi_"+_+"_"+t}),_e=(ne(Ae,"use",{id:"lli_"+_+"_"+t,x:m,y:Be+j/2,href:"#ll_"+_,stroke:x[_e]}),ne(Ae,"text",{id:"lti_"+_+"_"+t,class:"cll",x:m+l+m,y:Be+j/2}));let e="";t<i.length&&(e=i[t]),_e.append(f.createTextNode(e))}I=(I=R.getBBox().width+2*m)>o?o:I;$(be,"width","100%"),$(H,"width",I);let t=-I-m;X-=I+2*m,"northeast"==Y&&(t-=m+v,X-=v-I-2*m),ne(null,H,{x:L[2]+t,y:e,viewBox:"0 0 "+I+" "+O})}else X-=v;Y=[ve,U,X,xe];let Ve=[L[2]-Y[2],L[3]-Y[3]];const Ne=ne(D,"svg",{id:"st_"+_,x:Y[0],overflow:"visible",width:Y[2]});let P=0;if(0<ae.length)for(let e=0;e<ye.length;++e)P=P+q+p,ie(Ne,ye[e],"50%",P,q);if(0<N.length)for(let e=0;e<pe.length;++e)P=P+r+p,ie(Ne,pe[e],"50%",P,r);I=-L[3]+Y[1]+Y[3],O=ne(D,"g");le(O,[Y[0],I]);const Ee=ne(O,"svg",{id:"s_btm_"+_,overflow:"visible",y:"100%",width:Y[2]}),Se=(0<E.length&&ie(Ee,E,"50%",3*i,i),ne(D,"svg",{id:"sy_"+_,width:Y[0],y:Y[1],overflow:"visible",height:Y[3]}));0<S.length&&ne(Se,"text",{"writing-mode":"sideways-lr",fill:"black","font-size":i,"text-anchor":"middle","font-family":"Sans,Arial","stroke-width":1,y:"50%",x:Y[0]-4*i-p}).append(f.createTextNode(S));N=Pe(B,z),L=Pe(A,T);let G=[N[0],L[0],N[1]-N[0],L[1]-L[0]];const ze=ne(D,"svg",{id:"s_bg_"+_,preserveAspectRatio:"none",viewBox:"0 0 100 100",width:Y[2],height:Y[3],x:Y[0],y:Y[1]}),K=ne(D,"svg",{id:"sd_"+_,preserveAspectRatio:"none",viewBox:"0 0 100 100",overflow:"visible",width:Y[2],height:Y[3],x:Y[0],y:Y[1]});let W=[!(K.style.cursor="crosshair"),!1];fe.length<1?(W[0]="log"==he,W[1]="log"==ge):(W[0]=fe[0],W[1]=fe[1]);I=Je(G[2],s[0],C[0]),O=Je(G[3],s[1],C[1]);z.length<1&&4<=G[2]/I&&(G[0]=b(N[0]/I)*I,G[2]=d(N[1]/I)*I-G[0]),T.length<1&&4<=G[3]/O&&(G[1]=b(L[0]/O)*O,G[3]=d(L[1]/O)*O-G[1]),Ze(G);const Te=ne(K,"defs");""!=ce&&(J("o",[ne(null,"circle",{r:"5"})],1),J("+",[re(null,0,-5,0,5,"","",""),re(null,-5,0,5,0,"","","")]),J("*",[re(null,0,-5,0,5,"","",""),re(null,-5,0,5,0,"","",""),re(null,-3.5,-3.5,3.5,3.5,"","",""),re(null,-3.5,3.5,3.5,-3.5,"","","")]),J(".",[ne(null,"circle",{r:"1.5","stroke-width":3})]),J("x",[re(null,-3.5,-3.5,3.5,3.5,"","",""),re(null,-3.5,3.5,3.5,-3.5,"","","")]),J("_",[re(null,-5,0,5,0,"","","")]),J("|",[re(null,0,-5,0,5,"","","")]),J("sq",[oe(null,-5,-5,10,10,"","","")],1),J("^",[ne(null,"polygon",{points:"-5 3, 0 -5, 5 3"})],1),J("v",[ne(null,"polygon",{points:"-5 -4, 0 5, 5 -4"})],1),J("tr",[ne(null,"polygon",{points:"-3 -5, 5 0, -3 5"})],1),J("tl",[ne(null,"polygon",{points:"-5 0, 3 5, 3 -5"})],1));var Me=A.length/V,Ye=B.length==A.length;if(!Ye&&Me!=B.length)throw new Error("Dimension must agree");E=ne(K,"clipPath",{id:"cpg_"+_});const Ce=ne(null,oe(E,0,0,"100%","100%"),{id:"cpr_"+_});var Le=ne(K,"g",{id:"gp_"+_,"clip-path":"url(#cpg_"+_+")"});for(let l=0;l<V;++l){var Re=l%x.length,De=Array.isArray(se)?se[l]:se,Ue="url(#m"+(Array.isArray(ce)?ce[l]:ce)+"_"+_+")";let e="",t=2;switch(De){case":":e="2 3";break;case"--":e="12 6";break;case"-.":e="9 3 3 3";break;case"*":t=0}var Xe=ne(Le,"polyline",{class:"l",id:"pl_"+_+"_"+l,stroke:x[Re],"stroke-dasharray":e,"marker-start":Ue,"marker-mid":Ue,"marker-end":Ue,"stroke-width":t,"vector-effect":"non-scaling-stroke",fill:"none"});for(let e=0;e<Me;++e){var Fe,He=Ye?B[l*Me+e]:B[e],Ie=A[l*Me+e];isFinite(He)&&isFinite(Ie)&&((Fe=K.createSVGPoint()).x=100*(He-G[0])/G[2],Fe.y=100-100*(Ie-G[1])/G[3],Xe.points.appendItem(Fe))}}S=oe(K,0,0,"100%","100%","none","black",1);const Oe=ne(null,S,{id:"plr_"+_,"pointer-events":"visible"}),Z=("white"==we&&ne(D,R),ne(Ne,"g",{id:"bd_"+_,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:"b","pointer-events":"visible"}));function Pe(i,r){if(r.length<2){let t=i.length,l=-e,n=e;for(;t--;)isFinite(i[t])&&(n=i[t]<n?i[t]:n,l=i[t]>l?i[t]:l);r=[n,l]}return r[0]==r[1]&&(r[0]=r[0]-.5,r[1]=r[1]+.5),r}function J(e,t,l=0){var n=ne(Te,"marker",{id:"m"+e+"_"+_,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"userSpaceOnUse",fill:"none",stroke:"context-stroke"}),i=ne(n,"g",{"stroke-width":1.5,"vector-effect":"non-scaling-stroke",class:"marker_"+_});le(i,[5,5],[1,1]);for(let e=0;e<t.length;++e)ne(i,t[e]);l&&ne(Te,n.cloneNode(!0),{id:"mf"+e+"_"+_,fill:"context-stroke"})}function je(e,t,l=0){var n=Q("gpl_"+e+"_"+t),i=l?"block":"none";Q("pl_"+e+"_"+t).style.display=i,Q("lgi_"+e+"_"+t).style.opacity=.3+.7*l,null!=n&&(n.style.display=i)}function Ge(e,t){var e=e.offsetY-ee(H,"y")+tt(H)[1],l=b((e-n/2)/(j+n)),e=Q("pl_"+_+"_"+l);if(null!=e){var i="none"!=e.style.display,r=0==t?l+1:t;for(let e=0==t?l:0;e<r;++e)i?e==l&&0!=t||je(_,e):je(_,e,1)}}function qe(){var e=te(D),t=te(K),l=e[2]-Ve[0],e=e[3]-Ve[1];t[2]!=l&&($(K,"width",l),$(ze,"width",l),$(Ne,"width",l),$(Ee,"width",l),null!=H&&(H.x.baseVal.value+=l-t[2]),Z.transform.baseVal[0].matrix.e+=l-t[2]),t[3]!=e&&($(K,"height",e),$(ze,"height",e),$(Se,"height",e),null!=H)&&(l=(l=e-me)>F?F:l,$(H,"height",l),H.viewBox.baseVal.height=l),Ke()}function Ke(){var t=f.getElementsByClassName("marker_"+_);for(let e=0;e<t.length;++e){var l=te(K),n=tt(K),i=n[2]/l[2],n=n[3]/l[3];t[e].transform.baseVal[1].matrix.a=i,t[e].transform.baseVal[1].matrix.d=n}}function We(e){for(var t=100*(e[0]-G[0])/G[2],l=100*(G[1]+G[3]-e[1]-e[3])/G[3],n=(K.viewBox.baseVal.width=100*e[2]/G[2],K.viewBox.baseVal.height=100*e[3]/G[3],K.viewBox.baseVal.x=t,K.viewBox.baseVal.y=l,ne(null,Oe,{x:t,y:l}),ne(null,Ce,{x:t,y:l}),f.getElementsByClassName("cg_"+_));0<n.length;)n[0].remove();Ze(e),Ke()}function Ze(e){for(let r=0;r<2;++r){var o=0<r?Se:Ee,h=Je(e[2+r],s[r],C[r]),g=e[r]+e[2+r],l=d(e[r]/h)*h,g=b(g/h)*h,u=100*(0<r?e[r]+e[r+2]-g:l-e[r])/e[2+r],f=a((g-l)/h);let n=Array();n=C[r]?et($e(l,h,g).map(e=>10**e)):et($e(l,h,g));const p=100*h/e[2+r];var l=ne(ze,"defs",{class:"cg_"+_}),v=ne(l,"g",{id:"mg"+r+"_"+_}),g=C[r]||W[r]?t[r]:0;if(0<g){let l=Array();C[r]&&1==h?(l=$e(1,9/(g-1),10).map(c)).forEach((e,t)=>{l[t]=l[t]*p}):l=$e(0,2/g*p,p);for(let e=1;e<l.length-1;++e)Qe(v,0<r?p-l[e]:l[e],r,4,"2 4")}Qe(v,0,r,8,"");for(let l=-1;l<=f;++l){var y=u+p*l;let e=null,t=(0<=l&&ne(null,e=0<r?ie(o,n[f-l],te(o)[2]-.5*i,y+"%",i,"end"):ie(o,n[l],y+"%",.9*i,i),{"dominant-baseline":"central",class:"cg_"+_}),[y,0]);0<r&&(t=[t[1],t[0]]),ne(ze,"use",{href:"#mg"+r+"_"+_,x:t[0],y:t[1],class:"cg_"+_})}}}function Je(e,t,l){var t=e/t,n=b(c(t));const i=d(t/10**n);var r=u.findIndex(function(e){return e>=i}),t=u[r]*10**n;return l&&1<=e&&t<1?1:t}function Qe(e,t,l,n,i){let r=[t,0,0,n,t,100];0<l&&(r=[r[1],r[0],r[3],r[2],r[5],r[4]]),ue&&re(e,r[0],r[1],r[4],r[5],"rgb(223,223,223)",i);n=re(e,0,0,r[2],r[3]),t=re(e,-r[2],-r[3],0,0);le(n,[r[0],r[1]],[1,1]),le(t,[r[4],r[5]],[1,1]),ne(null,n,{class:"marker_"+_}),ne(null,t,{class:"marker_"+_})}function $e(t,l,e){var n=b((e-t)/l*(1+1e-12))+1;out=Array(n);for(let e=0;e<n;++e)out[e]=t+l*e;return out}function et(l){var n=["y","z","a","f","p","n","u","m","","k","M","G","T","P","E","Z","Y"],i=Array(l.length);for(let t=0;t<l.length;++t){var r=l[t].toExponential(5).split(/e/);let e=b(+r[1]/3)+8;e>n.length-1?e=n.length-1:e<0&&(e=0),i[t]=a(r[0]*10**(+r[1]-3*(e-8))*1e3)/1e3+n[e]}return i}function Q(e){return f.getElementById(e)}function $(e,t,l){e.setAttribute(t,l)}function ee(e,t){return e.getAttribute(t)}function te(e){return[e.x.baseVal.value,e.y.baseVal.value,e.width.baseVal.value,e.height.baseVal.value]}function tt(e){return[e.viewBox.baseVal.x,e.viewBox.baseVal.y,e.viewBox.baseVal.width,e.viewBox.baseVal.height]}function le(e,t,l){t=null!=t?"translate("+t[0]+" "+t[1]+")":"";t+=null!=l?"scale("+l[0]+" "+l[1]+")":"",e.setAttribute("transform",t)}function ne(e,t,l){var n,i="string"==typeof t?f.createElementNS(y,t):t;for(n in l)$(i,n,l[n]);return null!=e&&e.appendChild(i),i}function ie(e,t,l,n,i,r="middle",o="Sans,Arial",a="black"){e=ne(e,"text",{x:l,y:n,fill:a,"font-size":i,"text-anchor":r,"font-family":o,"stroke-width":1});return e.append(f.createTextNode(t)),e}function re(e,t,l,n,i,r="black",o="",a=1){return ne(e,"line",{x1:t,y1:l,x2:n,y2:i,stroke:r,"stroke-width":a,"stroke-dasharray":o,"vector-effect":"non-scaling-stroke"})}function oe(e,t,l,n,i,r="none",o="none",a=2,s=0){return ne(e,"rect",{x:t,y:l,width:n,height:i,rx:s,stroke:o,"stroke-width":a,fill:r,"vector-effect":"non-scaling-stroke"})}le(Z,[Y[2]-18,Y[1]-24]),ne(Z,"polyline",{stroke:"black",fill:"none",points:"8,0 8,16 2,9 8,16 14,9"}),ne(Z,"polyline",{stroke:"black",fill:"none",points:"0,17 0,20 16,20 16,17"}),oe(Z,0,0,21,21),Z.onclick=()=>{var e,t;Z.style.display="none",e='<svg width="'+(e=te(D))[2]+'" height="'+e[3]+'" xmlns="'+y+'">',e=new Blob([e,D.innerHTML,"</svg>"],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(e),(t=f.createElement("a")).href=e,t.download="snapshot_"+ae+".svg",ne(f.body,t),t.click(),f.body.removeChild(t),Z.style.display="block"},S.onclick=l=>{var n=te(K),i=(a=tt(K))[2]/n[2],r=a[3]/n[3],o=(l.offsetX-n[0])*i+a[0],o=(result=function(t,l,n,i,r,o){let a=null,s=e,c=0,h=0;var g=Q("gp_"+t),u=g.children.length;for(let e=0;e<u;++e){var f=g.children[e],d=f.points;for(let e=1;e<d.length;++e){var v,y,p,x,m,w,b=d[e-1],k=d[e];l<b.x-i&&l<k.x-i||l>b.x+i&&l>k.x+i||n<b.y-r&&n<k.y-r||n>b.y+r&&n>k.y+r||(v=k.x-b.x,p=(v*(l-b.x)+(y=k.y-b.y)*(n-b.y))/(v*v+y*y),1<=(p=((v=b.x+v*p)-l)*(v-l)/i/i+((y=b.y+y*p)-n)*(y-n)/r/r))||p>s||(s=p,a=f,p=b.x<l?l-b.x:b.x-l,x=b.y<n?n-b.y:b.y-n,m=k.x<l?l-k.x:k.x-l,w=k.y<n?n-k.y:k.y-n,p<m&&p<i&&x<r?(c=b.x,h=b.y):m<i&&w<r?(c=k.x,h=k.y):o&&0!=ee(f,"stroke-width")?(c=v,h=y):a=null)}}return{ele:a,x:c,y:h}}(_,o,l=(l.offsetY-n[1])*r+a[1],n=6*i,a=6*r,de)).ele;if(null!=o){var l=result.x,n=result.y,a="pl_"+_,o=o.id,a=o.slice(a.length,o.length),o=Q("lti_"+_+a),s=ee(Q("pl_"+_+a),"stroke"),c=function(e,t,l){return B=e[0]/100*t[2]+t[0],A=(1-e[1]/100)*t[3]+t[1],[B=l[0]?10**B:B,A=l[1]?10**A:A]}([l,n],G,C);let e=Q("gpl_"+_+a);null==e&&(e=ne(K,"g",{id:"gpl_"+_+a}));a=ne(e,"g",{class:"marker_"+_}),l=(le(a,[l,n],[i,r]),oe(a,5,-9,0,32,s,"rgb(223,223,223)",1,rx=4));a.onclick=e=>{"g"==e.srcElement.parentNode.tagName&&e.srcElement.parentNode.remove(),1<e.detail&&We(G)};let t=null;null!=o&&(ne(null,text=ie(a,o.textContent,7,-11,12,"start","Sans,Arial","white"),{"font-weight":"bold"}),t=re(a,5,-8,5,-8,stroke="white"),ne(null,l,{y:-23,height:46})),ie(a,"x: "+et([c[0]]),7,4,12,"start","Sans,Arial","white"),ie(a,"y: "+et([c[1]]),7,18,12,"start","Sans,Arial","white");n=a.getBBox();ne(null,l,{width:n.width+4}),null!=t&&$(t,"x2",n.width+4+5),oe(a,-2,-2,4,4,"black"),ne(a,"circle",{r:6,fill:"none","pointer-events":"visible"})}},D.oncontextmenu=e=>{e.preventDefault()},K.onmousedown=t=>{{let e=0;if(t.button==h||t.button==g&&t.shiftKey)e=1;else if(t.button!=g)return;K.style.cursor=e?"move":"zoom-in";const o=t.offsetX,a=t.offsetY,l=oe(D,o,a,0,0,"black"),n=e?0:.3;ne(null,l,{id:"zoom_rect"+_,"fill-opacity":n}),D.onmousemove=e=>{var t=o,l=a,n=Q("zoom_rect"+_),i=e.offsetX,t=i-t,l=(e=e.offsetY)-l,r=0==ee(n,"fill-opacity");r||0<=t?$(n,"width",t):ne(null,n,{width:-t,x:i}),r||0<=l?$(n,"height",l):ne(null,n,{height:-l,y:e})}}},K.ondblclick=()=>We(G),D.onmousedown=e=>{e.preventDefault()},D.onmouseup=()=>{var t=Q("zoom_rect"+_);if(K.style.cursor="crosshair",(D.onmousemove=null)!=t){var l=0==ee(t,"fill-opacity"),n=te(t);if(t.remove(),!~l||0!=n[2]&&0!=n[3]){var t=tt(K),i=te(K);let e=[];e=l?[-n[2]/i[2],n[3]/i[3],1,1]:[(n[0]-i[0])/i[2],1-(n[1]+n[3]-i[1])/i[3],n[2]/i[2],n[3]/i[3]];l=[G[0]+G[2]*t[0]/100,G[1]+G[3]*(100-t[3]-t[1])/100,G[2]*t[2]/100,G[3]*t[3]/100];We([l[0]+e[0]*l[2],l[1]+e[1]*l[3],e[2]*l[2],e[3]*l[3]])}}},0<M.length&&(R.onwheel=e=>{F;var t=te(H),l=tt(H),t=F-t[3];return l[1]+=e.deltaY,l[1]<0&&(l[1]=0),t<l[1]&&(l[1]=t),H.viewBox.baseVal.y=l[1],be.y.baseVal.value=l[1],!1}),new ResizeObserver(()=>qe()).observe(D),qe()}}