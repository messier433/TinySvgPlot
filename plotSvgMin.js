{const a="Sans,Arial",b=2,c=1,d=12,e=10,f="Lucida Sans Typewriter,Courier",g=30,h=4,i=400,j=4,k=24,l=12,m=[10,10],n=[10,10],o=8,p=o/2,q=[1,2,5,10],r=["#0072BE","#DA5319","#EEB220","#7E2F8E","#77AD30","#4CBFEF","#A3142F"],s="http://www.w3.org/2000/svg",t=Math.round,u=Math.floor,v=Math.log10,w=Math.ceil,x=Array,y=x.isArray,z=1/0,A=document,B=null;function plotSvg(D,_,le,N,{color="",title="",subtitle="",xlabel="",ylabel="",xlim=[],ylim=[],style="-",marker="",legend={names:[],x:0,y:0,anchor:["right","top"],ref:["out","in"],boxed:1},xScale="lin",yScale="lin",grid=!0,gridMinor=[],xtick=[],ytick=[],xticklbl=[],yticklbl=[],xtickangle=0,ytickangle=0,linTip=!0,buttons:se=[],add=[]}={}){const V=(e,t,o)=>e.setAttribute(t,o),C=(e,t,o)=>{var r,i="string"==typeof t?A.createElementNS(s,t):t;for(r in o)V(i,r,o[r]);return e!=B&&e.appendChild(i),i},E=(e,t,o,r,i,n="none",a="none",l=2,s=0)=>C(e,"rect",{x:t,y:o,width:r,height:i,rx:s,stroke:a,"stroke-width":l,fill:n,"vector-effect":"non-scaling-stroke"}),L=(e,t,o,r,i,n="middle",l=a,s="black")=>{e=C(e,"text",{x:o,y:r,fill:s,"font-size":i,"text-anchor":n,"font-family":l,"stroke-width":1});return e.append(A.createTextNode(t)),e},F=(e,t,o,r,i,n="black",a="",l=1)=>C(e,"line",{x1:t,y1:o,x2:r,y2:i,stroke:n,"stroke-width":l,"stroke-dasharray":a,"vector-effect":"non-scaling-stroke"}),ce=(e,t="",o="black",r="",i=2)=>C(e,"polyline",{points:t,fill:"none",stroke:o,"stroke-width":i,"stroke-dasharray":r,"vector-effect":"non-scaling-stroke"}),T=e=>A.getElementById(e),fe=(e,t)=>e.getAttribute(t),M=e=>e.length,S=e=>{e=e.getBBox();return[e.x,e.y,e.width,e.height]},Y=e=>[e.x.baseVal.value,e.y.baseVal.value,e.width.baseVal.value,e.height.baseVal.value],R=e=>[e.viewBox.baseVal.x,e.viewBox.baseVal.y,e.viewBox.baseVal.width,e.viewBox.baseVal.height],H=(e,t,o)=>{t=t!=B?"translate("+t[0]+" "+t[1]+")":"";t+=o!=B?"scale("+o[0]+" "+o[1]+")":"",e.setAttribute("transform",t)},he=T(D),U=A.createElement("div"),X=(C(he,U),V(U,"style","width:100%;height:100%;min-width:"+i+"px;min-height:200px;overflow:none"),C(U,"svg",{id:"s_"+D,width:"100%",height:"100%"})),I=Y(X),O=(X.innerHTML+="<style>\n<![CDATA[\n.b:hover polyline{\nopacity:0.5;\n}\n]]>\n</style>\n",C(B,"g",{"pointer-events":"visible",class:legend.anchor[0]+"_"+D+" "+legend.anchor[1]+"_"+D}));O.onclick=e=>je(e,0),O.ondblclick=e=>je(e,N);let G=B,de=B;if(0<M(legend.names)&&0<N&&0<M(_)){G=C(O,"svg",{id:"sl_"+D}),de=C(G,"defs");let t=N,r=legend.names;M(legend)>N&&(r=legend.slice(0,t));for(let o=0;o<t;++o){const at=o*(e+h)+e,lt=C(G,"g",{id:"lgi_"+D+"_"+o});let t="";o<M(r)&&(t=r[o]);const st=L(lt,t,2*h+g,at,e,"start",f),ct=at-.35*e;V(st,"dominant-baseline","top"),ce(lt,"0,"+ct+" "+g/2+","+ct+" "+g+","+ct)}}const ve=title.split("\n"),ge=subtitle.split("\n"),K=C(X,"svg",{id:"st_"+D,overflow:"visible"});let P=0;if(0<M(title))for(let e=0;e<M(ve);++e)P+=k+j,L(K,ve[e],"50%",P,k);if(0<M(subtitle))for(let e=0;e<M(ge);++e)P+=l+j,L(K,ge[e],"50%",P,l);P+=j;const ye=C(X,"g"),W=C(ye,"svg",{id:"s_btm_"+D,overflow:"visible"});if(0<M(xlabel)){const text=L(W,xlabel,"50%","100%",d);H(text,[0,-d/2])}const me=C(X,"svg",{id:"sy_"+D,overflow:"visible"});if(0<M(ylabel)){const text=L(me,ylabel,"100%","50%",d);C(B,text,{"writing-mode":"vertical-rl","transform-origin":"center"}),H(text,[d,0],[-1,-1])}const ue=C(X,"svg",{id:"s_bg_"+D,preserveAspectRatio:"none",viewBox:"0 0 100 100"}),Z=C(X,"svg",{id:"sd_"+D,preserveAspectRatio:"none",viewBox:"0 0 100 100"});Z.style.cursor="crosshair";let J=[!1,!1],xe=[],be=[],Q=[],$=[],ee=[],te=[],oe=[],pe=[],re=[],ke=B,we=B;function _e(){Z.innerHTML="",V(Z,"viewBox","0 0 100 100"),ke=C(Z,"defs"),""!=marker&&(ae("o",[C(B,"circle",{r:"5"})],1),ae("+",[F(B,0,-5,0,5,"","",""),F(B,-5,0,5,0,"","","")]),ae("*",[F(B,0,-5,0,5,"","",""),F(B,-5,0,5,0,"","",""),F(B,-3.5,-3.5,3.5,3.5,"","",""),F(B,-3.5,3.5,3.5,-3.5,"","","")]),ae(".",[C(B,"circle",{r:"1.5","stroke-width":3})]),ae("x",[F(B,-3.5,-3.5,3.5,3.5,"","",""),F(B,-3.5,3.5,3.5,-3.5,"","","")]),ae("_",[F(B,-5,0,5,0,"","","")]),ae("|",[F(B,0,-5,0,5,"","","")]),ae("sq",[E(B,-5,-5,10,10,"","","")],1),ae("^",[C(B,"polygon",{points:"-5 3, 0 -5, 5 3"})],1),ae("v",[C(B,"polygon",{points:"-5 -3, 0 5, 5 -3"})],1),ae("tr",[C(B,"polygon",{points:"-3 -5, 5 0, -3 5"})],1),ae("tl",[C(B,"polygon",{points:"-5 0, 3 5, 3 -5"})],1)),J=[!1,!1],xe=_,be=le,Q=xlim,$=ylim,ee=xtick,te=ytick,"log"==xScale&&(xe=_.map(v),1<M(Q)&&(Q=Q.map(v),isNaN(Q[0])||isNaN(Q[1])?Q=[]:(Q[0]=Q[0]==-z?0:Q[0],Q[1]=Q[1]==-z?0:Q[1])),0<M(ee)&&(ee=ee.map(v)),J[0]=!0),"log"==yScale&&(be=le.map(v),1<M($)&&($=$.map(v),isNaN($[0])||isNaN($[1])?$=[]:($[0]=$[0]==-z?0:$[0],$[1]=$[1]==-z?0:$[1])),0<M(te)&&(te=te.map(v)),J[1]=!0);var e=Ue(xe,Q),t=Ue(be,$),o=(re=[e[0],t[0],e[1]-e[0],t[1]-t[0]],M(gridMinor)<1?(oe[0]="log"==xScale,oe[1]="log"==yScale):1<M(gridMinor)?(oe[0]=gridMinor[0],oe[1]=gridMinor[1]):(oe[0]=gridMinor,oe[1]=gridMinor),et(re[2],m[0],J[0])),i=et(re[3],m[1],J[1]),n=[0==M(ee),0==M(te)],a=(pe=[(J[0]||oe[0])&&n[0],(J[1]||oe[1])&&n[1]],oe=[oe[0]&&n[0],oe[1]&&n[1]],M(Q)<1&&4<=re[2]/o&&(re[0]=u(e[0]/o)*o,re[2]=w(e[1]/o)*o-re[0]),M($)<1&&4<=re[3]/i&&(re[1]=u(t[0]/i)*i,re[3]=w(t[1]/i)*i-re[1]),axLblBb=$e(re),M(le)/N),l=M(_)==M(le);if(!l&&a!=M(_))throw new Error("Dimension must agree");var s=C(Z,"g",{id:"gp_"+D});for(let n=0;n<N;++n){var c=n%M(r),f=y(style)?style[n]:style,h="url(#m"+(y(marker)?marker[n]:marker)+"_"+D+")",d=y(color)?n<M(color)?color[n]:"":color,g=""==d?r[c]:d;let t="",o=2;switch(f){case":":t="2 3";break;case"--":t="12 6";break;case"-.":t="0 1.5 9 3 3 2.5";break;case"*":o=0}var c=G!=B&&.3==G.childNodes[n+1].style.opacity,x=C(s,"g",{id:"pl_"+D+"_"+n});x.style.display=c?"none":"block";let i=B;G!=B&&(d="url(#ml"+(y(marker)?marker[n]:marker)+"_"+D+")",C(B,G.childNodes[n+1].childNodes[1],{"stroke-dasharray":t,"marker-mid":d,"stroke-width":o,stroke:g}));for(let e=0;e<a;++e){var b=l?xe[n*a+e]:xe[e],p=be[n*a+e],k=Z.createSVGPoint();isFinite(b)&&isFinite(p)?(i==B&&(i=ce(x,"",g,t,o),C(B,i,{"marker-start":h,"marker-mid":h,"marker-end":h,"stroke-width":o})),k.x=100*(b-re[0])/re[2],k.y=100-100*(p-re[1])/re[3],i.points.appendItem(k)):i=B}}we=E(Z,0,0,"100%","100%","none","black"),C(B,we,{id:"plr_"+D,"pointer-events":"visible"}),we.onclick=e=>We(e)}_e();let Be=0,Ne=0,Ve=0,ie=B,Ee=B;const Ae=axLblBb[1][2]+.5*d+1.5*d*(0<M(ylabel))+j,Fe=axLblBb[0][3]+j+(1.5*d+j)*(0<M(xlabel)),De=I[3]-Fe-P,Ce=I[2]-Ae-2*d,ne=[Ae,P,Ce,De],Le=-I[3]+ne[1]+ne[3],Te=1+2*(0<legend.boxed)*h+2*legend.x,Me=1+2*(0<legend.boxed)*h+2*legend.y;if(G!=B){ie=He(O,legend);const ft=De-Me,ht=ie[3]>ft,dt=ie[2]>i?i:ie[2],vt=ht?ft:ie[3];C(B,G,{width:dt,height:vt,viewBox:"0 0 "+dt+" "+vt}),Ee=O.childNodes[0],Ee.height.baseVal.value=vt+2*(0<legend.boxed&&ht)*h,"out"==legend.ref[0]&&("left"==legend.anchor[0]?(ne[0]+=ie[0]+ie[2]+h,Be+=ie[0]+ie[2]+h):ne[2]=ie[0]-Ae-h),"out"==legend.ref[1]&&(ne[3]-=ie[3],"top"==legend.anchor[1]?(ne[1]+=ie[3],Ve+=ie[3]):Ne-=ie[3])}add.forEach(e=>He(e.group,e)),C(B,ue,{width:ne[2],height:ne[3],x:ne[0],y:ne[1]}),C(B,Z,{width:ne[2],height:ne[3],x:ne[0],y:ne[1]}),C(B,me,{width:Ae,x:Be,y:ne[1],height:ne[3]}),H(ye,[ne[0],Le]),C(B,W,{y:I[3]+Ne,width:ne[2],height:Fe}),C(B,K,{x:ne[0],y:Ve,width:ne[2]});const Se=[I[2]-ne[2],I[3]-ne[3]],ze=C(K,"g",{id:"b_"+D,cursor:"pointer"}),Ye=(H(ze,[0,ne[1]]),C(ze,"g",{"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:"b right_"+D,"pointer-events":"visible"}));H(Ye,[ne[2]-18,-24]),ce(Ye,"8,0 8,16 2,9 8,16 14,9"),ce(Ye,"0,17 0,20 16,20 16,17"),E(Ye,0,0,21,21),Ye.onclick=()=>{Ie()};let Re=0;function He(e,t){C(X,e);var o,r,i=S(e);let n=t.x,a=t.y;return t.boxed&&(n+=h,a+=h,o=1&t.boxed?"black":"none",r=2&t.boxed?"white":"none",r=E(B,-h+i[0],-h+i[1],i[2]+2*h,i[3]+2*h,r,o,1),e.insertBefore(r,e.firstChild)),n="in"==t.ref[0]?"right"==t.anchor[0]?ne[0]+ne[2]-n-i[2]:n+ne[0]:"right"==t.anchor[0]?I[2]-n-i[2]:n,a="in"==t.ref[1]?"bottom"==t.anchor[1]?ne[1]+ne[3]-a-i[3]:a+ne[1]:"bottom"==t.anchor[1]?I[3]-a-i[3]:a,n-=i[0]-.5,a-=i[1]-.5,V(e,"class",t.anchor[0]+"_"+D+" "+t.anchor[1]+"_"+D),H(e,[n,a]),(i=S(e))[0]+=n,i[1]+=a,i}function Ue(r,i){if(M(i)<2){let e=M(r),t=-z,o=z;for(;e--;)isFinite(r[e])&&(o=r[e]<o?r[e]:o,t=r[e]>t?r[e]:t);i=[o,t]}return i[0]==i[1]&&(i[0]=i[0]-.5,i[1]=i[1]+.5),i}function Xe(t){const e=C(ze,"g",{"pointer-events":"visible"}),o=C(e,"title"),r=E(e,0,-14,0,18,"none"),i=L(e,t.text,3,-1,12,"start",a,"grey"),n=S(i)[2]+6;let l=eval(t.init);function s(e){C(B,r,{stroke:e?"#73AFD7":"#A0A0A0","stroke-width":e?2.5:1.5}),V(i,"fill",e?"#black":"grey")}return o.append(A.createTextNode(t.hover)),C(B,r,{width:n,rx:3}),s(l),H(e,[Re,-8]),e.onclick=()=>{if(l=!l,s(l),t.callback!=B)for(var e in attrs=t.callback(l),attrs)eval(e+"="+attrs[e]);t.redraw&&(_e(),Ge())},Re+=n+5,e}function ae(e,t,o=0){var marker=C(ke,"marker",{id:"m"+e+"_"+D,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"userSpaceOnUse",fill:"none",stroke:"context-stroke"});const r=C(marker,"g",{"stroke-width":1.5,"vector-effect":"non-scaling-stroke",class:"marker_"+D});H(r,[5,5],[1,1]),t.forEach(e=>C(r,e));t=C(de,marker.cloneNode(!0),{id:"ml"+e+"_"+D});V(t.childNodes[0],"class",""),o&&C(ke,marker.cloneNode(!0),{id:"mf"+e+"_"+D,fill:"context-stroke"})}function Ie(){ze.style.display="none",Z.style.cursor="auto";var e=Y(X),e='<svg width="'+e[2]+'" height="'+e[3]+'" xmlns="'+s+'">',e=new Blob([e,X.innerHTML,"</svg>"],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(e),t=A.createElement("a");t.href=e,t.download="snapshot_"+title+".svg",C(A.body,t),t.click(),t.remove(),ze.style.display="block",Z.style.cursor="crosshair"}function Oe(e,t,o=0){var r=T("gpl_"+e+"_"+t),i=o?"block":"none";T("pl_"+e+"_"+t).style.display=i,T("lgi_"+e+"_"+t).style.opacity=.3+.7*o,r!=B&&(r.style.display=i)}function je(t,o){var r=O.transform.baseVal[0].matrix.f,t=t.offsetY-r+R(G)[1],i=u(t/(e+h)),r=T("pl_"+D+"_"+i);if(r!=B){var n="none"!=r.style.display,a=0==o?i+1:o;for(let e=0==o?i:0;e<a;++e)n?e==i&&0!=o||Oe(D,e):Oe(D,e,1)}}function Ge(){var e=Y(X),t=Y(Z),o=e[2]-Se[0],r=e[3]-Se[1],e=A.getElementsByClassName("right_"+D),i=A.getElementsByClassName("bottom_"+D);if(t[2]!=o){V(Z,"width",o),V(ue,"width",o),V(K,"width",o),V(W,"width",o);for(var n of e)n.transform.baseVal[0].matrix.e+=o-t[2]}if(t[3]!=r){V(Z,"height",r),V(ue,"height",r),V(me,"height",r),W.y.baseVal.value+=r-t[3];for(var a of i)a.transform.baseVal[0].matrix.f+=r-t[3];G!=B&&(e=(i=(e=r-Me)<ie[3])?e:ie[3],V(G,"height",e),G.viewBox.baseVal.height=e,Ee.height.baseVal.value=e+2*(0<legend.boxed&&i)*h)}Ze()}function Ke(e){var t=Y(G),o=R(G),t=ie[3]-t[3];return o[1]+=e.deltaY,o[1]<0&&(o[1]=0),t<o[1]&&(o[1]=t),G.viewBox.baseVal.y=o[1],!1}function Pe(e,t,o){var r=e[0]/100*t[2]+t[0],e=(1-e[1]/100)*t[3]+t[1];return[o[0]?10**r:r,o[1]?10**e:e]}function qe(e,t,o,r,i){let n=B,a=z,l=0,s=0;var c=T("gp_"+e),f=M(c.children);for(let e=0;e<f;++e){var h=c.children[e],d=M(h.children);for(let e=0;e<d;++e){var v=h.children[e].points,g=M(v);if("none"!=h.style.display)for(let e=1;e<g;++e){var y,m,u,x,b,p,k=v[e-1],w=v[e];t<k.x-r&&t<w.x-r||t>k.x+r&&t>w.x+r||o<k.y-i&&o<w.y-i||o>k.y+i&&o>w.y+i||(u=((y=w.x-k.x)*(t-k.x)+(m=w.y-k.y)*(o-k.y))/(y*y+m*m),1<=(u=((y=k.x+y*u)-t)*(y-t)/r/r+((m=k.y+m*u)-o)*(m-o)/i/i))||u>a||(a=u,n=h,u=k.x<t?t-k.x:k.x-t,x=k.y<o?o-k.y:k.y-o,b=w.x<t?t-w.x:w.x-t,p=w.y<o?o-w.y:w.y-o,u<b&&u<r&&x<i?(l=k.x,s=k.y):b<r&&p<i?(l=w.x,s=w.y):linTip&&0!=fe(h,"stroke-width")?(l=y,s=m):n=B)}}}return{ele:n,x:l,y:s}}function We(t){var o=Y(Z),r=R(Z),i=r[2]/o[2],s=r[3]/o[3],c=(t.offsetX-o[0])*i+r[0],t=(t.offsetY-o[1])*s+r[1],r=(result=qe(D,c,t,6*i,6*s)).ele;if(r!=B){var c=result.x,t=result.y,f="pl_"+D,h=r.id,f=h.slice(M(f),M(h)),h=T("lgi_"+D+f),r=r.childNodes[0],r=fe(r,"stroke"),d=Pe([c,t],re,J);let e=T("gpl_"+D+f);e==B&&(e=C(Z,"g",{id:"gpl_"+D+f}));const g=C(e,"g",{class:"marker_"+D}),y=C(g,"g");f=E(y,0,-33,1,33,r,"#DFDFDF",1,rx=4);H(g,[c,t],[i,s]),g.onclick=e=>{e.ctrlKey?v(1):(g.remove(),1<e.detail&&Je(re))},h!=B&&(text=L(y,h.textContent,2,-35,12,"start",a,"white"),C(B,text,{"font-weight":"bold"}),C(B,f,{y:-48,height:48})),L(y,"x: "+nt([d[0]]),2,-19,12,"start",a,"white"),L(y,"y: "+nt([d[1]]),2,-5,12,"start",a,"white");const m=S(g),u=(m[2]+=4,C(B,f,{width:m[2]}),h!=B&&F(y,0,-31,m[2],-31,"white"),F(g,0,0,6,-6));r=y.getBoundingClientRect();let n=r.right+5+U.offsetLeft>o[0]+o[2],l=r.y-5-U.offsetTop<o[1];function v(e){let t=5,o=-5,r=1,i=1;e&&([n,l]=[!l,n]),n&&(t=-m[2]-5,r=-1),l&&(o=m[3]+5,i=-1),H(y,[t,o]),H(u,B,[r,i])}v(!1),E(g,-2,-2,4,4,"black"),C(g,"circle",{r:6,fill:"none","pointer-events":"visible"})}}function Ze(){var t=A.getElementsByClassName("marker_"+D);for(let e=0;e<M(t);++e){var o=Y(Z),r=R(Z),i=r[2]/o[2],r=r[3]/o[3];t[e].transform.baseVal[1].matrix.a=i,t[e].transform.baseVal[1].matrix.d=r}}function Je(e){var t=100*(e[0]-re[0])/re[2],o=100*(re[1]+re[3]-e[1]-e[3])/re[3];Z.viewBox.baseVal.width=100*e[2]/re[2],Z.viewBox.baseVal.height=100*e[3]/re[3],Z.viewBox.baseVal.x=t,Z.viewBox.baseVal.y=o,C(B,we,{x:t,y:o}),$e(e),Ze()}function Qe(){var t=T("zoom_rect"+D);if(Z.style.cursor="crosshair",t!=(X.onmousemove=B)){var o=0==fe(t,"fill-opacity"),r=Y(t);if(t.remove(),!~o||0!=r[2]&&0!=r[3]){var t=R(Z),i=Y(Z);let e=[];e=o?[-r[2]/i[2],r[3]/i[3],1,1]:[(r[0]-i[0])/i[2],1-(r[1]+r[3]-i[1])/i[3],r[2]/i[2],r[3]/i[3]];o=[re[0]+re[2]*t[0]/100,re[1]+re[3]*(100-t[3]-t[1])/100,re[2]*t[2]/100,re[3]*t[3]/100];Je([o[0]+e[0]*o[2],o[1]+e[1]*o[3],e[2]*o[2],e[3]*o[3]])}}}function $e(r){for(var i=[ee,te],e=[xticklbl,yticklbl],a=[xtickangle,ytickangle],l=[0,0],t=A.getElementsByClassName("cg_"+D);0<M(t);)t[0].remove();for(let t=0;t<2;++t){var s=t?me:W,c=C(s,"g",{id:"ga"+s+"_"+D});const E=et(r[2+t],m[t],J[t]);var s=r[t]+r[2+t],f=w(r[t]/E)-1,s=u(s/E),h=0<M(i[t])?i[t]:it(f,1,s).map(e=>e*E),g=0<M(e[t])?e[t]:J[t]?nt(h.map(e=>10**e)):nt(h),y=100*E/r[2+t],f=C(ue,"defs",{class:"cg_"+D}),x=C(f,"g",{id:"mg"+t+"_"+D}),s=J[t]&&1==E,f=pe[t]?n[t]/(2-s):1;const F=it(10/f,10/f,10);if(1<f){J[t]&&1==E&&F.forEach((e,t)=>{F[t]=10*v(F[t])});for(let e=0;e<M(F)-1;++e)tt(x,F[e]/10*y*(1-2*t),t,p,"2 4",oe[t])}tt(x,0,t,o,"",grid);var s=a[t],b=(s=(s-(t?90:0))%180,h.map(e=>100*(e-r[t])/r[2+t])),k=s<-11?"end":11<s?"start":"middle";for(let e=0;e<M(h);++e){var _,N=0<t?100-b[e]:b[e],V=t?[0,N]:[N,0],N=t?["100%",N+"%"]:[N+"%",j+.5*d*("middle"==k)];B;0<=b[e]&&(0<e||i)&&(_=L(c,g[e],N[0],N[1],d,k),C(B,_,{"dominant-baseline":"central",class:"cg_"+D,transform:"translate(-"+.5*d*t+" 0) rotate("+a[t]+")","transform-origin":N[0]+" "+N[1]})),C(ue,"use",{href:"#mg"+t+"_"+D,x:V[0],y:V[1],class:"cg_"+D})}l[t]=S(c)}return l}function et(e,t,o){var t=e/t,r=u(v(t));const i=w(t/10**r);var n=q.findIndex(e=>e>=i),t=q[n]*10**r;return o&&1<=e&&t<1?1:t}function tt(e,t,o,r,i,n){let a=[t,0,0,r,t,100];0<o&&(a=[a[1],a[0],a[3],a[2],a[5],a[4]]),n&&F(e,a[0],a[1],a[4],a[5],"#DFDFDF",i);r=F(e,0,0,a[2],a[3]),t=F(e,-a[2],-a[3],0,0);H(r,[a[0],a[1]],[1,1]),H(t,[a[4],a[5]],[1,1]),C(B,r,{class:"marker_"+D}),C(B,t,{class:"marker_"+D})}function ot(e){let t=0;if(e.button==c||e.button==b&&e.ctrlKey)t=1;else if(e.button!=b)return;Z.style.cursor=t?"move":"zoom-in";const o=e.offsetX,r=e.offsetY;var e=E(X,o,r,0,0,"black"),i=t?0:.3;C(B,e,{id:"zoom_rect"+D,"fill-opacity":i}),X.onmousemove=e=>rt(e,o,r)}function rt(e,t,o){var r=T("zoom_rect"+D),i=e.offsetX,e=e.offsetY,t=i-t,o=e-o,n=0==fe(r,"fill-opacity");n||0<=t?V(r,"width",t):C(B,r,{width:-t,x:i}),n||0<=o?V(r,"height",o):C(B,r,{height:-o,y:e})}function it(t,o,e){var r=u((e-t)/o*(1+1e-12))+1;out=x(r);for(let e=0;e<r;++e)out[e]=t+o*e;return out}function nt(r){var i=["y","z","a","f","p","n","u","m","","k","M","G","T","P","E","Z","Y"],n=x(M(r)),e=M(r),a=M(i);for(let o=0;o<e;++o){var l=r[o].toExponential(5).split(/e/);let e=u(+l[1]/3)+8;e>a-1?e=a-1:e<0&&(e=0),n[o]=t(l[0]*10**(+l[1]-3*(e-8))*1e3)/1e3+i[e]}return n}se.forEach(e=>Xe(e)),X.oncontextmenu=e=>{e.preventDefault()},Z.onmousedown=e=>ot(e),Z.ondblclick=()=>Je(re),X.onmousedown=e=>{e.preventDefault()},X.onmouseup=()=>Qe(),0<M(legend.names)&&(O.onwheel=e=>Ke(e)),new ResizeObserver(()=>Ge()).observe(X),Ge()}}